// Card para exibir estatísticas
component StatCard inherits Rectangle {
    in property <string> title;
    in property <string> value;
    in property <color> value-color: #ffffff;

    // Estilo do card
    width: 288px;
    height: 112px;
    background: #2e3030;
    border-radius: 8px;

    HorizontalLayout {
        padding-left: 32px;
        alignment: start;

        VerticalLayout {
            alignment: center;
            spacing: 8px;

            Text {
                text: root.title;
                color: #ffffff;
                font-size: 18px;
            }

            Text {
                text: root.value;
                color: root.value-color;
                font-size: 24px;
                font-weight: 700;
            }
        }
    }
}

// Container para gráficos com título e valor atual
component ChartContainer inherits Rectangle {
    in property <string> title;
    in property <string> current-value;
    in property <color> chart-color: #3b82f6;
    in property <image> chart-image;

    background: #2e3030;
    border-radius: 8px;

    VerticalLayout {
        padding: 24px;
        spacing: 16px;

        HorizontalLayout {
            alignment: space-between;

            HorizontalLayout {
                spacing: 16px;
                alignment: start;

                Text {
                    text: root.title;
                    color: #ffffff;
                    font-size: 18px;
                    font-weight: 600;
                }

                Text {
                    text: root.current-value;
                    color: root.chart-color;
                    font-size: 18px;
                    font-weight: 700;
                }
            }

            Text {
                text: "Último minuto";
                color: #ffffff;
                font-size: 14px;
            }
        }

        Image {
            source: root.chart-image;
            width: 100%;
            height: 256px;
        }
    }
}

export component DashboardView inherits VerticalLayout {
    // Propriedades de informações do Docker
    in property <int> total-containers;
    in property <int> running-containers;
    in property <int> stopped-containers;
    in property <int> paused-containers;
    in property <int> total-images;
    in property <string> docker-version;
    // Propriedades de uso do sistema
    in property <string> cpu-usage-str;
    in property <string> memory-percentage-str;
    in property <string> network-rx-str;
    in property <string> network-tx-str;
    in property <image> cpu-chart;
    in property <image> memory-chart;

    spacing: 20px;
    padding: 16px;
    padding-top: 20px;

    // Grid de cards de estatísticas
    HorizontalLayout {
        alignment: center;
        height: 240px;

        GridLayout {
            spacing: 16px;

            StatCard {
                row: 0;
                col: 0;
                title: "Total Containers";
                value: root.total-containers;
            }

            StatCard {
                row: 0;
                col: 1;
                title: "Containers Rodando";
                value: root.running-containers;
                value-color: #0AD95C;
            }

            StatCard {
                row: 0;
                col: 2;
                title: "Containers Parados";
                value: root.stopped-containers;
                value-color: #FA6138;
            }

            StatCard {
                row: 1;
                col: 0;
                title: "Containers Pausados";
                value: root.paused-containers;
                value-color: #ffac51;
            }

            StatCard {
                row: 1;
                col: 1;
                title: "Imagens";
                value: root.total-images;
            }

            StatCard {
                row: 1;
                col: 2;
                title: "Versão | Arquitetura";
                value: root.docker-version;
            }
        }
    }

    // Seção de gráficos
    VerticalLayout {
        spacing: 16px;
        alignment: start;

        Text {
            text: "Dados de uso do Docker";
            color: #ffffff;
            font-size: 24px;
            font-weight: 600;
        }

        Flickable {

            VerticalLayout {
                spacing: 24px;

                ChartContainer {
                    title: "Uso de CPU";
                    current-value: root.cpu-usage-str;
                    chart-color: #3b82f6;
                    chart-image: root.cpu-chart;
                }

                ChartContainer {
                    title: "Uso de Memória";
                    current-value: root.memory-percentage-str;
                    chart-color: #10b981;
                    chart-image: root.memory-chart;
                }

                // Card de uso de rede
                Rectangle {
                    background: #2e3030;
                    border-radius: 8px;
                    height: 300px;

                    VerticalLayout {
                        padding: 24px;
                        spacing: 16px;

                        HorizontalLayout {
                            alignment: space-between;

                            HorizontalLayout {
                                spacing: 16px;
                                alignment: start;

                                Text {
                                    text: "Uso de Rede";
                                    color: #ffffff;
                                    font-size: 18px;
                                    font-weight: 600;
                                }

                                HorizontalLayout {
                                    spacing: 16px;

                                    Text {
                                        text: root.network-rx-str;
                                        color: #f59e0b;
                                        font-size: 16px;
                                        font-weight: 700;
                                    }

                                    Text {
                                        text: root.network-tx-str;
                                        color: #ef4444;
                                        font-size: 16px;
                                        font-weight: 700;
                                    }
                                }
                            }

                            Text {
                                text: "Último minuto";
                                color: #ffffff;
                                font-size: 14px;
                            }
                        }

                        // Seção RX/TX da rede
                        HorizontalLayout {
                            spacing: 8px;

                            // Card RX (Download)
                            Rectangle {
                                width: 50%;
                                height: 200px;
                                background: #1e1f1f;
                                border-radius: 4px;

                                VerticalLayout {
                                    alignment: center;

                                    Text {
                                        text: "RX (Download)";
                                        color: #f59e0b;
                                        font-size: 14px;
                                        font-weight: 600;
                                        horizontal-alignment: center;
                                    }

                                    Text {
                                        text: root.network-rx-str;
                                        color: #f59e0b;
                                        font-size: 20px;
                                        font-weight: 700;
                                        horizontal-alignment: center;
                                    }

                                    Text {
                                        text: "Gráfico em tempo real";
                                        color: #888888;
                                        font-size: 12px;
                                        horizontal-alignment: center;
                                    }
                                }
                            }

                            // Card TX (Upload)
                            Rectangle {
                                width: 50%;
                                height: 200px;
                                background: #1e1f1f;
                                border-radius: 4px;

                                VerticalLayout {
                                    alignment: center;

                                    Text {
                                        text: "TX (Upload)";
                                        color: #ef4444;
                                        font-size: 14px;
                                        font-weight: 600;
                                        horizontal-alignment: center;
                                    }

                                    Text {
                                        text: root.network-tx-str;
                                        color: #ef4444;
                                        font-size: 20px;
                                        font-weight: 700;
                                        horizontal-alignment: center;
                                    }

                                    Text {
                                        text: "Gráfico em tempo real";
                                        color: #888888;
                                        font-size: 12px;
                                        horizontal-alignment: center;
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}
